# Getting and Cleaning Data Course Project

This repo contains three files:
* This read me with the main informations about the exercise
* run_analysis.R - containing the code for evaluation
* A code book detailing the variables in the summarised data file, generated by the R script

## Assumptions in the r_analysis.R file

Before running the script, there are two important informations: 
1. You must have the dplyr package installed, it will be loaded in the first step of the script and used for subsetting, grouping and summarizing data;
2. The script assumes that the TXT files needed for the exercise are in your working directory

The TXT files mentioned above are:
* features.txt
* X_train.txt
* y_train.txt
* X_test.txt
* y_text.txt
* subject_test.txt
* subject_train.txt

## How run_analysis.R works

1. The dplyr package is loaded with the library() command;
2. The features.txt content is read and stored to an object. It's second column contains the names that will label the data set variables (Source: UCI HAR Dataset README file);
3. The subject test and subject train files and will be stored, each, to an object with the same name. Each row identifies the subject who performed the activity for each window sample. Its range is from 1 to 30. (source: UCI HAR Dataset README file);
4. The subject data, contained in two R objects, are row binded (test comes before train). This result is then stored to an object named subject containing all the subjects in the data set;
5. The only column in the object subject is labeled Subject, for identifying it in the data set that will be merged in the following steps;
6. The y test and y train files are read and stored, each, to an object with the same name. Each file contains the labels for the test and train sets (Source: UCI HAR Dataset README file);
7. The labels data, contained in two R objects, are row binded (test comes before train). This result is then stored to an object named activity_labels;
8. The only column in the object activity_labels is labeled ActivityLabels, for identifying it in the data set that will be merged in the following steps;
9. The X test and X train files are read and stored, each, to an object with the same name. Each file contains the set of variables observed for the test and train subjects (Source: UCI HAR Dataset README file);
10. The variables in the X test and X train objects are labeled using the names contained in the features object, corresponding to the exact order of the variables measured in the sets;
11. The X test and X train objects are row binded (test comes before train). This result is the stored to an object named test_train;
12. The select command (dplyr package) is used to subset the data set, retaining only the variables regarding mean() and std() measures. Other variables that would meet the criteria used for subsetting, but that don't are the ones needed for the exercise, are removed within the same line of command (meanFreq() and angle() variables). The result is used to rewrite the content of the test_train object; 
13. The objects containing the subjects, the activity labels and the test-train measures are column binded and stored to an object named merged_data;
14. The merged data activity labels variable is coerced into a factor containing the labels for each variable code (Source: UCI HAR Dataset activity labels file);
15. The merged data is grouped by (dplyr package) Subject and ActivityLabels. The result is store to the object by_subject_activity;
16. The means for each variable (dplyr package) in the grouped data set is calculated. It generates a data frame containing the mean for each variable, for each subject and activity. The result is stored to an object named summarised_data;
17. The summarised_data object is written to a TXT file with the same name in your working directory.

## Why the resulting file is a tidy data set
1. Each measured variable is in one column
2. Each different observation of each variable is in a different row
3. There are no different kinds of variables stored in the same table;
4. The first row contains human readable variable names for each variable    return
(Source: The components of tidy data lecture file, in Coursera Getting and Cleaning Data week 1 lectures)
